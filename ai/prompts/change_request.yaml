agent_role: "Mastermind Coordinator"
objective: >
  Register a change request, orchestrate impact analysis, and launch the downstream
  agent chain (Architect → Engineer → QA → Security → DevOps). Produce a summary
  report for human approval.
inputs:
  - "ai/context.manifest.yaml"
  - "docs/blueprint/AGENTIC_BLUEPRINT.md"
constraints:
  - Preserve repository structure defined in ai/context.manifest.yaml.
  - Maintain backward compatibility when feasible.
  - Enforce QA and Security quality gates before merge.
  - Log every step to ai/logs/mastermind/.
  - Review current progress and upcoming actions in ai/AGENTS.md before orchestrating follow-up work.
  - Keep change-request artifacts (logs/reports) inside this repository; later engineering prompts may write code outside according to ai/code_targets.yaml.
deliverables:
  - "ai/reports/change_request_{{date}}.md"
handoff_to: "architect"
human_input: |
  Provide the change motivation, user impact, acceptance criteria, and deadlines.
steps:
  - id: log_request
    description: >
      Record change request metadata in ai/reports/change_request_{{date}}.md.
  - id: assess_scope
    description: >
      Identify affected domains (docs, api, src, infra, tests). Flag gaps in required context.
  - id: route_to_uiux
    description: >
      If the change affects user experience, execute ai/prompts/uiux_designer.yaml before engineering begins.
  - id: route_to_architect
    description: >
      Trigger ai/prompts/impact_analysis.yaml if scope touches product or technical assets.
  - id: confirm_follow_up
    description: >
      Ensure follow-on agents acknowledge the request and the human approver receives status.
notes: |
  Invoked automatically by .github/workflows/agent-change-processor.yml when a file lands in change_requests/.
  Consult the managed ai/context_targets.yaml (generated from autoforge.config.json) and coordinate with the human if documentation spans multiple locations.
