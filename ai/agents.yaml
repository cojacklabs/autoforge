description: Agent roles, permissions, and communication boundaries for the ROS AI autonomous workflow.
note:
  All paths are relative to the repository root. When AutoForge is located inside
  another project (e.g., `custom-project/.autoforge`, legacy: `custom-project/autoforge`),
  treat that subdirectory as the working directory and do not modify files outside it.

roles:
  - id: discovery_researcher
    description: >
      Ingest human ideas, perform external research, and draft feasibility briefs.
      Also responsible for capturing the initial vision before planning begins.
    reads:
      - "ai/context.manifest.yaml"
      - "docs/blueprint/**/*.md"
      - "ideas/**/*.{yaml,yml,md}"
      - "research/**/*.md"
      - "ai/memory/**/*.{yaml,yml}"
      - "ai/AGENTS.md"
    writes:
      - "ideas/**"
      - "research/plans/**"
      - "research/briefs/**"
      - "ai/logs/research/**"
      - "ai/reports/feasibility_*.md"
      - "ai/memory/**"
      - "ai/AGENTS.md"

  - id: product_manager
    reads:
      - "docs/blueprint/**/*.md"
      - "docs/prd/**/*.md"
      - "research/**/*.md"
      - "ai/memory/**/*.{yaml,yml}"
      - "ai/AGENTS.md"
    writes:
      - "docs/blueprint/vision.md"
      - "docs/blueprint/spec.md"
      - "docs/prd/PRODUCT_REQUIREMENTS.md"
      - "ai/memory/**"
      - "ai/AGENTS.md"

  - id: architect
    reads:
      - "docs/blueprint/**/*.md"
      - "diagrams/**/*.mmd"
      - "api/openapi.yaml"
      - "devops/devops.yaml"
      - "ai/memory/**/*.{yaml,yml}"
      - "ai/AGENTS.md"
    writes:
      - "docs/blueprint/tech.md"
      - "diagrams/**/*.mmd"
      - "api/openapi.yaml"
      - "ai/memory/**"
      - "ai/AGENTS.md"

  - id: fullstack_engineer
    reads:
      - "api/openapi.yaml"
      - "docs/blueprint/spec.md"
      - "docs/blueprint/tech.md"
      - "security/SECURITY_READINESS.md"
      - "ai/memory/**/*.{yaml,yml}"
      - "ai/AGENTS.md"
    writes:
      - "src/**"
      - "tests/**"
      - "qa/tests.md"
      - "ai/memory/**"
      - "ai/AGENTS.md"

  - id: qa_engineer
    reads:
      - "qa/tests.md"
      - "tests/**"
      - "api/openapi.yaml"
      - "docs/prd/**/*.md"
      - "ai/memory/**/*.{yaml,yml}"
      - "ai/AGENTS.md"
    writes:
      - "qa/reports/**"
      - "ai/logs/test_runs/**"
      - "ai/memory/**"
      - "ai/AGENTS.md"

  - id: security_engineer
    reads:
      - "security/**/*.md"
      - "devops/devops.yaml"
      - "api/openapi.yaml"
      - "ai/memory/**/*.{yaml,yml}"
      - "ai/AGENTS.md"
    writes:
      - "security/reports/**"
      - "ai/logs/security/**"
      - "ai/memory/**"
      - "ai/AGENTS.md"

  - id: devops_engineer
    reads:
      - "devops/**/*.{md,yml,yaml}"
      - "security/**/*.md"
      - "ai/memory/**/*.{yaml,yml}"
      - "ai/AGENTS.md"
    writes:
      - "devops/**"
      - "devops/runbooks/**"
      - "ai/logs/deployments/**"
      - "ai/memory/**"
      - "ai/AGENTS.md"

  - id: mastermind_coordinator
    reads:
      - "ai/context.manifest.yaml"
      - "ai/agents.yaml"
      - "ai/prompts/**/*.yaml"
      - "ai/logs/**"
      - "docs/**/*.md"
      - "ai/memory/**/*.{yaml,yml}"
      - "ai/AGENTS.md"
    writes:
      - "ai/logs/mastermind/**"
      - "ai/reports/**"
      - "ai/memory/**"
      - "ai/AGENTS.md"

  - id: uiux_designer
    description: >
      Translate PRD requirements into UI/UX artifacts (wireframes, user flows, style guide)
      that align with the technical blueprint and API contract.
    reads:
      - "docs/prd/PRODUCT_REQUIREMENTS.md"
      - "docs/blueprint/spec.md"
      - "docs/blueprint/tech.md"
      - "docs/uiux/**/*.md"
      - "ai/code_targets.yaml"
      - "ai/memory/**/*.{yaml,yml}"
      - "ai/AGENTS.md"
    writes:
      - "docs/uiux/**/*.md"
      - "ai/reports/uiux/**"
      - "ai/logs/uiux/**"
      - "ai/memory/**"
      - "ai/AGENTS.md"

  - id: performance_engineer
    description: >
      Plan and execute performance testing, define SLIs/SLOs with DevOps/SRE, and
      provide tuning recommendations across backend/frontend.
    reads:
      - "devops/devops.yaml"
      - "ai/code_targets.yaml"
      - "docs/blueprint/tech.md"
      - "docs/observability/**/*.md"
      - "ai/memory/**/*.{yaml,yml}"
      - "ai/AGENTS.md"
    writes:
      - "docs/perf/**/*.md"
      - "docs/perf/scripts/**"
      - "ai/logs/perf/**"
      - "ai/reports/perf/**"
      - "ai/memory/**"
      - "ai/AGENTS.md"

  - id: sre_engineer
    description: >
      Define observability standards (logs/metrics/traces), dashboards, and alerts;
      collaborate with DevOps to operationalize and with Performance for SLOs.
    reads:
      - "devops/devops.yaml"
      - "docs/observability/**/*.md"
      - "docs/blueprint/tech.md"
      - "ai/memory/**/*.{yaml,yml}"
      - "ai/AGENTS.md"
    writes:
      - "docs/observability/**/*.md"
      - "ai/reports/observability/**"
      - "ai/logs/observability/**"
      - "ai/memory/**"
      - "ai/AGENTS.md"

  - id: integration_engineer
    description: >
      Design and maintain third-party API connectors (data providers, analytics,
      payments, internal services) with schema validation, retries, and mocks.
    reads:
      - "ai/integrations.yaml"
      - "api/openapi.yaml"
      - "docs/blueprint/tech.md"
      - "ai/code_targets.yaml"
      - "ai/memory/**/*.{yaml,yml}"
      - "ai/AGENTS.md"
    writes:
      - "integrations/**"
      - "src/server/integrations/**"
      - "tests/integrations/**"
      - "ai/reports/integrations/**"
      - "ai/logs/integrations/**"
      - "ai/memory/**"
      - "ai/AGENTS.md"

  - id: payments_engineer
    description: >
      Implement and operate payment flows (e.g., Stripe) including subscriptions,
      invoicing, webhooks, and reconciliation with audit logging.
    reads:
      - "ai/integrations.yaml"
      - "api/openapi.yaml"
      - "docs/security/**/*.md"
      - "ai/code_targets.yaml"
      - "ai/memory/**/*.{yaml,yml}"
      - "ai/AGENTS.md"
    writes:
      - "src/server/payments/**"
      - "tests/payments/**"
      - "docs/security/stripe.md"
      - "ai/logs/security/**"
      - "ai/reports/integrations/payments/**"
      - "ai/memory/**"
      - "ai/AGENTS.md"

  - id: data_analyst
    description: >
      Define KPIs, metrics glossary, and dashboards; build data views for role-based
      analytics and reporting.
    reads:
      - "docs/observability/**/*.md"
      - "docs/blueprint/tech.md"
      - "ai/code_targets.yaml"
      - "ai/memory/**/*.{yaml,yml}"
      - "ai/AGENTS.md"
    writes:
      - "src/**"
      - "ai/reports/analytics/**"
      - "ai/logs/analytics/**"
      - "ai/memory/**"
      - "ai/AGENTS.md"

  - id: compliance_officer
    description: >
      Ensure compliance posture (e.g., SOC2/GDPR) by producing audit artifacts,
      mapping controls to changes, and documenting exceptions.
    reads:
      - "security/**/*.md"
      - "devops/devops.yaml"
      - "ai/logs/**"
      - "ai/memory/**/*.{yaml,yml}"
      - "ai/AGENTS.md"
    writes:
      - "security/reports/compliance/**"
      - "ai/reports/compliance/**"
      - "ai/logs/security/**"
      - "ai/memory/**"
      - "ai/AGENTS.md"

rules:
  write_protect:
    - "ai/context.manifest.yaml"
    - "ai/agents.yaml"
    - "docs/blueprint/AGENTIC_BLUEPRINT.md"
  fallback_behaviors:
    - condition: "missing_context"
      action: "Escalate to mastermind_coordinator with context gap report."
    - condition: "conflict_detected"
      action: "Pause and request clarification from previous agent or human."
  communication_protocol: "Follow docs/MASTERMIND_PROMPTING_GUIDE.md for structured inter-agent messaging."
